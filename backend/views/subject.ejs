<%- include('partials/header', { title: 'Subject Details' }) %>

<div class="main-container">
    <% if(subject) { %>
        <h1><%= subject.name %></h1>

        <a href="/edit-subject/<%= subject.id %>">Edit</a>

        <p>Description: <%= subject.description %></p>
        <p>Programming Languages: 
            <%= programmingLanguageNames.length > 0 ? programmingLanguageNames.join(', ') : 'No programming languages' %>
        </p>
        <p>Lecturer: 
            <%= teachingLecturer ? `${teachingLecturer.name} ${teachingLecturer.surname}` : 'No lecturer assigned' %>
        </p>

        <form action="/delete-subject" method="POST" style="display: inline;">
            <input type="hidden" name="subjectId" value="<%= subject.id %>">
            <button type="submit" onclick="return confirm('Are you sure you want to delete this subject?');">
                Delete
            </button>
        </form>
        
    <% } else { %>
        <h1>Subject with ID "<%= id %>" not found</h1>
    <% } %>
    <div>
        <a href="/subjects">Back to subjects list</a>
    </div>
</div>

<%- include('partials/footer') %>